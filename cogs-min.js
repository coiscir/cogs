/**
 *  Cogs JavaScript Library
 *  http://github.com/coiscir/cogs/
 *
 *  Copyright (c) 2009-2010 Jonathan Lonowski
 *  Released and distributed under the MIT License.
**/

"use strict";new function Cogs(){var e=window.Cogs=this;e.fn=e.constructor.prototype;function j(b){return b-(b%1)}function f(b,c,a){var d=String(b);while(d.length<c)d=(a||' ')+d;return d}function n(b,c,a){b=j(b||0);c=j(c||0);return!c?b:(b+c-1)%c+j(a||0)}(function(){var h,k,r=24*60*60*1000;function o(){var b,c,a,d,g,i=document.cookie.valueOf();if(k!==i){h={};k=i;g=k.replace(/\+/g,'%20').split(/\;\s*/);for(b=0;b<g.length;b+=1){c=g[b].split(/=/,2);a=decodeURIComponent(c[0]);d=decodeURIComponent(c[1]||'');h[a]=d}}return h}function m(b,c,a){var d=[];if(a===true)a={duration:-1};if(e.is_a(a,Number))a={duration:a};a=a||{};a={duration:e.is_a(a.duration,Number)?a.duration:null,domain:e.is_a(a.domain,String)?a.domain:null,path:e.is_a(a.path,String)?a.path:null,secure:e.is_a(a.secure,Boolean)?a.secure:null};d.push(encodeURIComponent(b)+'='+encodeURIComponent(c));if(e.is_a(a.duration,Number))d.push('expires='+new Date(e.utc()+a.duration*r).toUTCString());if(a.domain)d.push('domain='+encodeURIComponent(a.domain));if(a.path)d.push('path='+encodeURIComponent(a.path));if(a.secure)d.push('secure');document.cookie=d.join('; ').replace(/%20/g,'+');return!e.is_a(p(b),'nil')}function p(b){var c=o();if(e.is_a(c[b],String))return c[b];else return null}e.fn.cookie=function s(b,c,a){if(arguments.length<=1)return p(b);else return m(b,c,a)}})();(function(){e.fn.time=function r(b,c,a,d,g,i,h){var k=new Date();if(arguments.length>0){b=(+b||0);c=(+c||1)-1;a=(+a||1);d=(+d||0);g=(+g||0);i=(+i||0);h=(+h||0);k.setFullYear(b,c,a);k.setHours(d,g,i,h)}return k.getTime()};e.fn.utc=function o(b,c,a,d,g,i,h){var k=new Date();if(arguments.length>0){b=(+b||0);c=(+c||1)-1;a=(+a||1);d=(+d||0);g=(+g||0);i=(+i||0);h=(+h||0);k.setUTCFullYear(b,c,a);k.setUTCHours(d,g,i,h)}return k.getTime()}})();(function(){var l=24*60*60*1000,A=24*60*60/1000,E=e.time(1),F=e.time(10000)-1,G=e.utc(1),H=e.utc(10000)-1,t=['January','February','March','April','May','June','July','August','September','October','November','December'],I=[[31,28,31,30,31,30,31,31,30,31,30,31],[31,29,31,30,31,30,31,31,30,31,30,31]],u=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],B=['th','st','nd','rd'],v=['AM','PM','am','pm'];function w(b,c,a,d){if(c==null||c===''){return''}if(a==null){a=e.time()}if(e.isof(a,Date,Number)){return b(String(c||''),J(a,d))}else{throw new TypeError('Expected time to be a Date or Number.');}}function J(b,c){var a={},d,g,i,h,k,r,o,m,m,p,s,q,x,y,z;d=new Date(b);b=d.getTime();if(c){if((b<G)||(b>H)){throw new Error('Timestamp is out of range (Years 0 - 9999) for UTC Time.');}}else{if((b<E)||(b>F)){throw new Error('Timestamp is out of range (Years 0 - 9999) for Local Time.');}}g=new Date(c?e.utc(d.getUTCFullYear()+0):e.time(d.getFullYear()+0));i=new Date(c?e.utc(d.getUTCFullYear()+1):e.time(d.getFullYear()+1));h=new Date(c?e.utc(d.getUTCFullYear()-1):e.time(d.getFullYear()-1));k=c?g.getUTCDay():g.getDay();r=c?i.getUTCDay():i.getDay();o=c?h.getUTCDay():h.getDay();m=n(k,7);daysMondayNext=n(r,7);p=n(o,7);s=g.getTime()-(l*(m-(m>=4?7:0)));q=i.getTime()-(l*(daysMondayNext-(daysMondayNext>=4?7:0)));x=h.getTime()-(l*(p-(p>=4?7:0)));y=g.getTime()-(l*k);z=g.getTime()-(l*m);with(a){a.TIME=b;a.IS_UTC=c;a.DATE=c?d.getUTCDate():d.getDate();a.MONTH=c?d.getUTCMonth():d.getMonth();a.YEAR=c?d.getUTCFullYear():d.getFullYear();a.ORDINAL=B[(10<=DATE&&DATE<=19)?0:(DATE%10)]||B[0];a.IS_LEAP=!(YEAR%4)&&!!(YEAR%100)||!(YEAR%400);a.DAYSOFMONTH=I[IS_LEAP?1:0][MONTH];a.HOUR=c?d.getUTCHours():d.getHours();a.MINUTE=c?d.getUTCMinutes():d.getMinutes();a.SECOND=c?d.getUTCSeconds():d.getSeconds();a.MSEC=c?d.getUTCMilliseconds():d.getMilliseconds();a.OFFSET=c?0:d.getTimezoneOffset();a.IS_DST=c?false:OFFSET!==g.getTimezoneOffset();a.TIMEZONE=-1*OFFSET;a.WEEKDAY=c?d.getUTCDay():d.getDay();a.DAYOFYEAR=j((TIME-g.getTime())/l)+1;a.FIRST_SUNDAY=y;a.FIRST_MONDAY=z;a.ISO_MONDAY_CURR=s;a.ISO_MONDAY_NEXT=q;a.ISO_MONDAY_PREV=x}return a}function C(a,d){with(d){return a.replace(/%(.)/g,function(b,c){switch(c){case'c':return'%a, %e %b %Y %H:%M:%S GMT'+(IS_UTC?'':'%z');case'D':return'%m/%d/%y';case'F':return'%Y-%m-%d';case'r':return'%I:%M:%S %p';case'R':return'%H:%M';case'T':return'%H:%M:%S';case'v':return'%e-%b-%Y';case'x':return'%Y-%m-%d';case'X':return'%H:%M:%S';default:return b}}).replace(/%(.)/g,function(b,c){switch(c){case'%':return'%';case'a':return u[WEEKDAY].substr(0,3);case'A':return u[WEEKDAY];case'b':return t[MONTH].substr(0,3);case'B':return t[MONTH];case'C':return f(j(YEAR/100),2,'0');case'd':return f(DATE,2,'0');case'e':return f(DATE,2,' ');case'g':return f(((TIME<ISO_MONDAY_CURR?(YEAR-1):(TIME>=ISO_MONDAY_NEXT?(YEAR+1):YEAR)))%100,2,'0');case'G':return f(((TIME<ISO_MONDAY_CURR?(YEAR-1):(TIME>=ISO_MONDAY_NEXT?(YEAR+1):YEAR))),4,'0');case'h':return t[MONTH].substr(0,3);case'H':return f(HOUR,2,'0');case'I':return f(n(HOUR%12,12,1),2,'0');case'j':return f(DAYOFYEAR,3,'0');case'k':return f(HOUR,2,' ');case'l':return f(n(HOUR%12,12,1),2,' ');case'm':return f(MONTH+1,2,'0');case'M':return f(MINUTE,2,'0');case'n':return'\n';case'N':return f(MSEC,3,'0');case'p':return v[HOUR<12?0:1];case'P':return v[HOUR<12?2:3];case's':return j(TIME/1000);case'S':return f(SECOND,2,'0');case't':return'\t';case'u':return n(WEEKDAY,7,1);case'U':return f(j((TIME-FIRST_SUNDAY)/(7*l)),2,'0');case'V':return f((j((j(TIME/l)-n(WEEKDAY,7)-j(((TIME>=ISO_MONDAY_NEXT?ISO_MONDAY_NEXT:(TIME>=ISO_MONDAY_CURR?ISO_MONDAY_CURR:ISO_MONDAY_PREV)))/l))/7)+1),2,'0');case'w':return WEEKDAY;case'W':return f(j((TIME-FIRST_MONDAY)/(7*l)),2,'0');case'y':return f((YEAR%100),2,'0');case'Y':return f(YEAR,4,'0');case'z':return((TIMEZONE<0?'-':'+')+f(Math.abs(j(TIMEZONE/60)),2,'0')+f(Math.abs(TIMEZONE%60),2,'0'));default:return b}})}}e.fn.strftime=function K(b,c){return w(C,b,c,false)};e.fn.strfutc=function L(b,c){return w(C,b,c,true)};function D(g,i){with(i){return g.replace(/(\\)?(.)/g,function(b,c,a){if(c==='\\')return b;switch(a){case'c':return'Y-m-d\\TH:i:sP';case'r':return'D, d M Y H:i:s O';case'e':return'';case'T':return'';default:return b}}).replace(/(\\)?(.)/g,function(b,c,a){if(c==='\\')return a;var d=true;switch(a){case'd':return f(DATE,2,'0');case'D':return u[WEEKDAY].substr(0,3);case'j':return DATE;case'l':return u[WEEKDAY];case'N':return n(WEEKDAY,7,1);case'S':return ORDINAL;case'w':return WEEKDAY;case'z':return DAYOFYEAR;case'W':return f((j((j(TIME/l)-n(WEEKDAY,7)-j(((TIME>=ISO_MONDAY_NEXT?ISO_MONDAY_NEXT:(TIME>=ISO_MONDAY_CURR?ISO_MONDAY_CURR:ISO_MONDAY_PREV)))/l))/7)+1),2,'0');case'F':return t[MONTH];case'm':return f(MONTH+1,2,'0');case'M':return t[MONTH].substr(0,3);case'n':return MONTH+1;case't':return DAYSOFMONTH;case'L':return IS_LEAP?1:0;case'o':return f(((TIME<ISO_MONDAY_CURR?(YEAR-1):(TIME>=ISO_MONDAY_NEXT?(YEAR+1):YEAR))),4,'0');case'Y':return f(YEAR,4,'0');case'y':return f(YEAR%100,2,'0');case'a':return v[HOUR<12?2:3];case'A':return v[HOUR<12?0:1];case'B':return(((j(((HOUR*3600)+(MINUTE*60)+SECOND+((OFFSET+60)*60))/A))+1000)%1000,3,'0');case'g':return n(HOUR%12,12,1);case'G':return HOUR;case'h':return f(n(HOUR%12,12,1),2,'0');case'H':return f(HOUR,2,'0');case'i':return f(MINUTE,2,'0');case's':return f(SECOND,2,'0');case'u':return f(MSEC*1000,6,'0');case'I':return IS_DST?1:0;case'O':d=false;case'P':return((TIMEZONE<0?'-':'+')+f(Math.abs(j(TIMEZONE/60)),2,'0')+(d?':':'')+f(Math.abs(TIMEZONE%60),2,'0'));case'Z':return TIMEZONE*60;case'U':return j(TIME/1000);default:return a}})}};e.fn.phpdate=function M(b,c){return w(D,b,c,false)};e.fn.phputc=function N(b,c){return w(D,b,c,true)}})();(function(){var d='undefined',g='null',i='array',h='boolean',k='date',r='error',o='function',m='number',p='object',s='regexp',q='string',x='unknown',y='nil';e.fn.type=function z(b){switch(typeof b){case d:return d;case h:return h;case m:return m;case q:return q;case o:if(b.constructor==RegExp)return s;return o;case p:if(b===null)return g;if(b instanceof Error)return r;switch(b.constructor){case Array:return i;case Boolean:return h;case Date:return k;case Number:return m;case RegExp:return s;case String:return q;default:return p}default:return x}};e.fn.is_a=function l(b,c){switch(e.type(c)){case d:return b===c;case g:return b===c;case q:switch(c){case y:return b==null;default:return e.type(b)===c}case o:switch(c){case Boolean:return e.type(b)===h;case Number:return e.type(b)===m;case String:return e.type(b)===q;default:return b instanceof c}default:return false}};e.fn.isof=function A(b,c){for(var a=1;a<arguments.length;a+=1)if(true===e.is_a(b,arguments[a]))return true;return false}})()}();
