/**
 *  Cogs JavaScript Library
 *  http://github.com/coiscir/cogs/
 *
 *  Copyright (c) 2009-2010 Jonathan Lonowski
 *  Released and distributed under the MIT License.
**/

"use strict";new function Cogs(){var f=window.Cogs=this;f.fn=f.constructor.prototype;function h(b){return b-(b%1)}function e(b,a,c){var d=String(b);while(d.length<a)d=(c||' ')+d;return d}function m(b,a,c){b=h(b||0);a=h(a||0);return!a?b:(b+a-1)%a+h(c||0)}(function(){f.fn.time=function r(b,a,c,d,g,j,i){var k=new Date();if(arguments.length>0){b=(+b||0);a=(+a||1)-1;c=(+c||1);d=(+d||0);g=(+g||0);j=(+j||0);i=(+i||0);k.setFullYear(b,a,c);k.setHours(d,g,j,i)}return k.getTime()};f.fn.utc=function p(b,a,c,d,g,j,i){var k=new Date();if(arguments.length>0){b=(+b||0);a=(+a||1)-1;c=(+c||1);d=(+d||0);g=(+g||0);j=(+j||0);i=(+i||0);k.setUTCFullYear(b,a,c);k.setUTCHours(d,g,j,i)}return k.getTime()}})();(function(){var l=24*60*60*1000,A=24*60*60/1000,E=f.time(1),F=f.time(10000)-1,G=f.utc(1),H=f.utc(10000)-1,s=['January','February','March','April','May','June','July','August','September','October','November','December'],I=[[31,28,31,30,31,30,31,31,30,31,30,31],[31,29,31,30,31,30,31,31,30,31,30,31]],u=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],B=['th','st','nd','rd'],v=['AM','PM','am','pm'];function w(b,a,c,d){if(a==null||a===''){return''}if(c==null){c=f.time()}if(f.isof(c,Date,Number)){return b(String(a||''),J(c,d))}else{throw new TypeError('Expected time to be a Date or Number.');}}function J(b,a){var c={},d,g,j,i,k,r,p,n,n,q,t,o,x,y,z;d=new Date(b);b=d.getTime();if(a){if((b<G)||(b>H)){throw new Error('Timestamp is out of range (Years 0 - 9999) for UTC Time.');}}else{if((b<E)||(b>F)){throw new Error('Timestamp is out of range (Years 0 - 9999) for Local Time.');}}g=new Date(a?f.utc(d.getUTCFullYear()+0):f.time(d.getFullYear()+0));j=new Date(a?f.utc(d.getUTCFullYear()+1):f.time(d.getFullYear()+1));i=new Date(a?f.utc(d.getUTCFullYear()-1):f.time(d.getFullYear()-1));k=a?g.getUTCDay():g.getDay();r=a?j.getUTCDay():j.getDay();p=a?i.getUTCDay():i.getDay();n=m(k,7);daysMondayNext=m(r,7);q=m(p,7);t=g.getTime()-(l*(n-(n>=4?7:0)));o=j.getTime()-(l*(daysMondayNext-(daysMondayNext>=4?7:0)));x=i.getTime()-(l*(q-(q>=4?7:0)));y=g.getTime()-(l*k);z=g.getTime()-(l*n);with(c){c.TIME=b;c.IS_UTC=a;c.DATE=a?d.getUTCDate():d.getDate();c.MONTH=a?d.getUTCMonth():d.getMonth();c.YEAR=a?d.getUTCFullYear():d.getFullYear();c.ORDINAL=B[(10<=DATE&&DATE<=19)?0:(DATE%10)]||B[0];c.IS_LEAP=!(YEAR%4)&&!!(YEAR%100)||!(YEAR%400);c.DAYSOFMONTH=I[IS_LEAP?1:0][MONTH];c.HOUR=a?d.getUTCHours():d.getHours();c.MINUTE=a?d.getUTCMinutes():d.getMinutes();c.SECOND=a?d.getUTCSeconds():d.getSeconds();c.MSEC=a?d.getUTCMilliseconds():d.getMilliseconds();c.OFFSET=a?0:d.getTimezoneOffset();c.IS_DST=a?false:OFFSET!==g.getTimezoneOffset();c.TIMEZONE=-1*OFFSET;c.WEEKDAY=a?d.getUTCDay():d.getDay();c.DAYOFYEAR=h((TIME-g.getTime())/l)+1;c.FIRST_SUNDAY=y;c.FIRST_MONDAY=z;c.ISO_MONDAY_CURR=t;c.ISO_MONDAY_NEXT=o;c.ISO_MONDAY_PREV=x}return c}function C(c,d){with(d){return c.replace(/%(.)/g,function(b,a){switch(a){case'c':return'%a, %e %b %Y %H:%M:%S GMT'+(IS_UTC?'':'%z');case'D':return'%m/%d/%y';case'F':return'%Y-%m-%d';case'r':return'%I:%M:%S %p';case'R':return'%H:%M';case'T':return'%H:%M:%S';case'v':return'%e-%b-%Y';case'x':return'%Y-%m-%d';case'X':return'%H:%M:%S';default:return b}}).replace(/%(.)/g,function(b,a){switch(a){case'%':return'%';case'a':return u[WEEKDAY].substr(0,3);case'A':return u[WEEKDAY];case'b':return s[MONTH].substr(0,3);case'B':return s[MONTH];case'C':return e(h(YEAR/100),2,'0');case'd':return e(DATE,2,'0');case'e':return e(DATE,2,' ');case'g':return e(((TIME<ISO_MONDAY_CURR?(YEAR-1):(TIME>=ISO_MONDAY_NEXT?(YEAR+1):YEAR)))%100,2,'0');case'G':return e(((TIME<ISO_MONDAY_CURR?(YEAR-1):(TIME>=ISO_MONDAY_NEXT?(YEAR+1):YEAR))),4,'0');case'h':return s[MONTH].substr(0,3);case'H':return e(HOUR,2,'0');case'I':return e(m(HOUR%12,12,1),2,'0');case'j':return e(DAYOFYEAR,3,'0');case'k':return e(HOUR,2,' ');case'l':return e(m(HOUR%12,12,1),2,' ');case'm':return e(MONTH+1,2,'0');case'M':return e(MINUTE,2,'0');case'n':return'\n';case'N':return e(MSEC,3,'0');case'p':return v[HOUR<12?0:1];case'P':return v[HOUR<12?2:3];case's':return h(TIME/1000);case'S':return e(SECOND,2,'0');case't':return'\t';case'u':return m(WEEKDAY,7,1);case'U':return e(h((TIME-FIRST_SUNDAY)/(7*l)),2,'0');case'V':return e((h((h(TIME/l)-m(WEEKDAY,7)-h(((TIME>=ISO_MONDAY_NEXT?ISO_MONDAY_NEXT:(TIME>=ISO_MONDAY_CURR?ISO_MONDAY_CURR:ISO_MONDAY_PREV)))/l))/7)+1),2,'0');case'w':return WEEKDAY;case'W':return e(h((TIME-FIRST_MONDAY)/(7*l)),2,'0');case'y':return e((YEAR%100),2,'0');case'Y':return e(YEAR,4,'0');case'z':return((TIMEZONE<0?'-':'+')+e(Math.abs(h(TIMEZONE/60)),2,'0')+e(Math.abs(TIMEZONE%60),2,'0'));default:return b}})}}f.fn.strftime=function K(b,a){return w(C,b,a,false)};f.fn.strfutc=function L(b,a){return w(C,b,a,true)};function D(g,j){with(j){return g.replace(/(\\)?(.)/g,function(b,a,c){if(a==='\\')return b;switch(c){case'c':return'Y-m-d\\TH:i:sP';case'r':return'D, d M Y H:i:s O';case'e':return'';case'T':return'';default:return b}}).replace(/(\\)?(.)/g,function(b,a,c){if(a==='\\')return c;var d=true;switch(c){case'd':return e(DATE,2,'0');case'D':return u[WEEKDAY].substr(0,3);case'j':return DATE;case'l':return u[WEEKDAY];case'N':return m(WEEKDAY,7,1);case'S':return ORDINAL;case'w':return WEEKDAY;case'z':return DAYOFYEAR;case'W':return e((h((h(TIME/l)-m(WEEKDAY,7)-h(((TIME>=ISO_MONDAY_NEXT?ISO_MONDAY_NEXT:(TIME>=ISO_MONDAY_CURR?ISO_MONDAY_CURR:ISO_MONDAY_PREV)))/l))/7)+1),2,'0');case'F':return s[MONTH];case'm':return e(MONTH+1,2,'0');case'M':return s[MONTH].substr(0,3);case'n':return MONTH+1;case't':return DAYSOFMONTH;case'L':return IS_LEAP?1:0;case'o':return e(((TIME<ISO_MONDAY_CURR?(YEAR-1):(TIME>=ISO_MONDAY_NEXT?(YEAR+1):YEAR))),4,'0');case'Y':return e(YEAR,4,'0');case'y':return e(YEAR%100,2,'0');case'a':return v[HOUR<12?2:3];case'A':return v[HOUR<12?0:1];case'B':return(((h(((HOUR*3600)+(MINUTE*60)+SECOND+((OFFSET+60)*60))/A))+1000)%1000,3,'0');case'g':return m(HOUR%12,12,1);case'G':return HOUR;case'h':return e(m(HOUR%12,12,1),2,'0');case'H':return e(HOUR,2,'0');case'i':return e(MINUTE,2,'0');case's':return e(SECOND,2,'0');case'u':return e(MSEC*1000,6,'0');case'I':return IS_DST?1:0;case'O':d=false;case'P':return((TIMEZONE<0?'-':'+')+e(Math.abs(h(TIMEZONE/60)),2,'0')+(d?':':'')+e(Math.abs(TIMEZONE%60),2,'0'));case'Z':return TIMEZONE*60;case'U':return h(TIME/1000);default:return c}})}};f.fn.phpdate=function M(b,a){return w(D,b,a,false)};f.fn.phputc=function N(b,a){return w(D,b,a,true)}})();(function(){var d='undefined',g='null',j='array',i='boolean',k='date',r='error',p='function',n='number',q='object',t='regexp',o='string',x='unknown',y='nil';f.fn.type=function z(b){switch(typeof b){case d:return d;case i:return i;case n:return n;case o:return o;case p:if(b.constructor==RegExp)return t;return p;case q:if(b===null)return g;if(b instanceof Error)return r;switch(b.constructor){case Array:return j;case Boolean:return i;case Date:return k;case Number:return n;case RegExp:return t;case String:return o;default:return q}default:return x}};f.fn.is_a=function l(b,a){switch(f.type(a)){case d:return b===a;case g:return b===a;case o:switch(a){case y:return b==null;default:return f.type(b)===a}case p:switch(a){case Boolean:return f.type(b)===i;case Number:return f.type(b)===n;case String:return f.type(b)===o;default:return b instanceof a}default:return false}};f.fn.isof=function A(b,a){for(var c=1;c<arguments.length;c+=1)if(true===f.is_a(b,arguments[c]))return true;return false}})()}();
