/**
 *  Cogs JavaScript Library
 *  http://github.com/coiscir/cogs/
 *
 *  Copyright (c) 2009-2010 Jonathan Lonowski
 *  Released and distributed under the MIT License.
**/

"use strict";new function Cogs(){var e=window.Cogs=this;e.fn=e.constructor.prototype;function k(b){return b-(b%1)}function f(b,a,c){var d=String(b);while(d.length<a)d=(c||' ')+d;return d}function o(b,a,c){b=k(b||0);a=k(a||0);return!a?b:(b+a-1)%a+k(c||0)}(function(){e.fn.time=function r(b,a,c,d,g,i,h){var j=new Date();if(arguments.length>0){b=(+b||0);a=(+a||1)-1;c=(+c||1);d=(+d||0);g=(+g||0);i=(+i||0);h=(+h||0);j.setFullYear(b,a,c);j.setHours(d,g,i,h)}return j.getTime()};e.fn.utc=function p(b,a,c,d,g,i,h){var j=new Date();if(arguments.length>0){b=(+b||0);a=(+a||1)-1;c=(+c||1);d=(+d||0);g=(+g||0);i=(+i||0);h=(+h||0);j.setUTCFullYear(b,a,c);j.setUTCHours(d,g,i,h)}return j.getTime()}})();(function(){var l=24*60*60*1000,C=e.time(1),D=e.time(10000)-1,E=e.utc(1),F=e.utc(10000)-1,u=['January','February','March','April','May','June','July','August','September','October','November','December'],x=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],y=['th','st','nd','rd'],z=['AM','PM','am','pm'];function A(b,a,c,d){if(a==null||a===''){return''}if(c==null){c=e.time()}if(e.isof(c,Date,Number)){return b(String(a||''),G(c,d))}else{throw new TypeError('Expected time to be a Date or Number.');}}function G(b,a){var c={},d,g,i,h,j,r,p,m,m,q,s,n,t,v,w;d=new Date(b);b=d.getTime();if(a){if((b<E)||(b>F)){throw new Error('Timestamp is out of range (Years 0 - 9999) for UTC Time.');}}else{if((b<C)||(b>D)){throw new Error('Timestamp is out of range (Years 0 - 9999) for Local Time.');}}g=new Date(a?e.utc(d.getUTCFullYear()+0):e.time(d.getFullYear()+0));i=new Date(a?e.utc(d.getUTCFullYear()+1):e.time(d.getFullYear()+1));h=new Date(a?e.utc(d.getUTCFullYear()-1):e.time(d.getFullYear()-1));j=a?g.getUTCDay():g.getDay();r=a?i.getUTCDay():i.getDay();p=a?h.getUTCDay():h.getDay();m=o(j,7);daysMondayNext=o(r,7);q=o(p,7);s=g.getTime()-(l*(m-(m>=4?7:0)));n=i.getTime()-(l*(daysMondayNext-(daysMondayNext>=4?7:0)));t=h.getTime()-(l*(q-(q>=4?7:0)));v=g.getTime()-(l*j);w=g.getTime()-(l*m);with(c){c.TIME=b;c.IS_UTC=a;c.DATE=a?d.getUTCDate():d.getDate();c.MONTH=a?d.getUTCMonth():d.getMonth();c.YEAR=a?d.getUTCFullYear():d.getFullYear();c.ORDINAL=y[(10<=DATE&&DATE<=19)?0:(DATE%10)]||y[0];c.IS_LEAP=!(YEAR%4)&&!!(YEAR%100)||!(YEAR%400);c.HOUR=a?d.getUTCHours():d.getHours();c.MINUTE=a?d.getUTCMinutes():d.getMinutes();c.SECOND=a?d.getUTCSeconds():d.getSeconds();c.MSEC=a?d.getUTCMilliseconds():d.getMilliseconds();c.OFFSET=a?0:d.getTimezoneOffset();c.IS_DST=a?false:OFFSET!==g.getTimezoneOffset();c.TIMEZONE=-1*OFFSET;c.WEEKDAY=a?d.getUTCDay():d.getDay();c.DAYOFYEAR=k((TIME-g.getTime())/l)+1;c.FIRST_SUNDAY=v;c.FIRST_MONDAY=w;c.ISO_MONDAY_CURR=s;c.ISO_MONDAY_NEXT=n;c.ISO_MONDAY_PREV=t}return c}function B(c,d){with(d){return c.replace(/%(.)/g,function(b,a){switch(a){case'c':return'%a, %e %b %Y %H:%M:%S GMT'+(IS_UTC?'':'%z');case'D':return'%m/%d/%y';case'F':return'%Y-%m-%d';case'r':return'%I:%M:%S %p';case'R':return'%H:%M';case'T':return'%H:%M:%S';case'v':return'%e-%b-%Y';case'x':return'%Y-%m-%d';case'X':return'%H:%M:%S';default:return b}}).replace(/%(.)/g,function(b,a){switch(a){case'%':return'%';case'a':return x[WEEKDAY].substr(0,3);case'A':return x[WEEKDAY];case'b':return u[MONTH].substr(0,3);case'B':return u[MONTH];case'C':return f(k(YEAR/100),2,'0');case'd':return f(DATE,2,'0');case'e':return f(DATE,2,' ');case'g':return f(((TIME<ISO_MONDAY_CURR?(YEAR-1):(TIME>=ISO_MONDAY_NEXT?(YEAR+1):YEAR)))%100,2,'0');case'G':return f(((TIME<ISO_MONDAY_CURR?(YEAR-1):(TIME>=ISO_MONDAY_NEXT?(YEAR+1):YEAR))),4,'0');case'h':return u[MONTH].substr(0,3);case'H':return f(HOUR,2,'0');case'I':return f(o(HOUR%12,12,1),2,'0');case'j':return f(DAYOFYEAR,3,'0');case'k':return f(HOUR,2,' ');case'l':return f(o(HOUR%12,12,1),2,' ');case'm':return f(MONTH+1,2,'0');case'M':return f(MINUTE,2,'0');case'n':return'\n';case'N':return f(MSEC,3,'0');case'p':return z[HOUR<12?0:1];case'P':return z[HOUR<12?2:3];case's':return k(TIME/1000);case'S':return f(SECOND,2,'0');case't':return'\t';case'u':return o(WEEKDAY,7,1);case'U':return f(k((TIME-FIRST_SUNDAY)/(7*l)),2,'0');case'V':return f((k((k(TIME/l)-o(WEEKDAY,7)-k(((TIME>=ISO_MONDAY_NEXT?ISO_MONDAY_NEXT:(TIME>=ISO_MONDAY_CURR?ISO_MONDAY_CURR:ISO_MONDAY_PREV)))/l))/7)+1),2,'0');case'w':return WEEKDAY;case'W':return f(k((TIME-FIRST_MONDAY)/(7*l)),2,'0');case'y':return f((YEAR%100),2,'0');case'Y':return f(YEAR,4,'0');case'z':return((TIMEZONE<0?'-':'+')+f(Math.abs(k(TIMEZONE/60)),2,'0')+f(Math.abs(TIMEZONE%60),2,'0'));default:return b}})}}e.fn.strftime=function H(b,a){return A(B,b,a,false)};e.fn.strfutc=function I(b,a){return A(B,b,a,true)}})();(function(){var d='undefined',g='null',i='array',h='boolean',j='date',r='error',p='function',m='number',q='object',s='regexp',n='string',t='unknown';e.fn.type=function v(b){switch(typeof b){case d:return d;case h:return h;case m:return m;case n:return n;case p:if(b.constructor==RegExp)return s;return p;case q:if(b===null)return g;if(b instanceof Error)return r;switch(b.constructor){case Array:return i;case Boolean:return h;case Date:return j;case Number:return m;case RegExp:return s;case String:return n;default:return q}default:return t}};e.fn.is_a=function w(b,a){switch(e.type(a)){case d:return b===a;case g:return b===a;case n:return e.type(b)===a;case p:switch(a){case Boolean:return e.type(b)===h;case Number:return e.type(b)===m;case String:return e.type(b)===n;default:return b instanceof a}default:return false}};e.fn.isof=function l(b,a){for(var c=1;c<arguments.length;c+=1)if(true===e.is_a(b,arguments[c]))return true;return false}})()}();
