<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Cogs Test Suite</title>
  
  <link rel="stylesheet" type="text/css" href="qunit/qunit.css" />
</head>
<body>

  <h1 id="qunit-header">jsDigest Test Suite</h1>
  <h2 id="qunit-banner"></h2>
  <h2 id="qunit-userAgent"></h2>
  <ol id="qunit-tests"></ol>

<script src="qunit/qunit.js"></script>
<script src="cogs.js"></script>
<script>
  module('Core');
  
  test('Global', 1, function () {
    ok(!!window.Cogs, 'Cogs is defined');
  });
  
  
  /**************/
  /** Type Cog **/
  /**************/
  
  module('Type');
  
  test('Literal Types', 9, function () {
    equals(Cogs.type(undefined),    'undefined', 'undefined');
    equals(Cogs.type(null),         'null',      'null');
    equals(Cogs.type([]),           'array',     'array');
    equals(Cogs.type(true),         'boolean',   'boolean');
    equals(Cogs.type(function(){}), 'function',  'function');
    equals(Cogs.type(0),            'number',    'number');
    equals(Cogs.type({}),           'object',    'object');
    equals(Cogs.type(/./),          'regexp',    'regexp');
    equals(Cogs.type(''),           'string',    'string');
  });
  
  test('Constructor Types', 9, function () {
    equals(Cogs.type(new Array()),    'array',    'array');
    equals(Cogs.type(new Boolean()),  'boolean',  'boolean');
    equals(Cogs.type(new Date()),     'date',     'date');
    equals(Cogs.type(new Error()),    'error',    'error');
    equals(Cogs.type(new Function()), 'function', 'function');
    equals(Cogs.type(new Number()),   'number',   'number');
    equals(Cogs.type(new Object()),   'object',   'object');
    equals(Cogs.type(new RegExp()),   'regexp',   'regexp');
    equals(Cogs.type(new String()),   'string',   'string');
  });
  
  
  /************/
  /** Timers **/
  /************/
  
  module('Profiling');
  
  test('Type', function () {
    var count = 50000, type = Cogs.type, time, i, diff;

    time = new Date().getTime();
    i = count;
    while (i-- > 0) {
      typeof [];
      typeof true;
      typeof 0;
      typeof '';
    }
    diff = new Date().getTime() - time;
    equals(diff, diff, 'typeof');
    
    time = new Date().getTime();
    i = count;
    while (i-- > 0) {
      type([]);
      type(true);
      type(0);
      type('');
    }
    diff = new Date().getTime() - time;
    equals(diff, diff, 'Cogs.type');
      
    start();
  });
</script>
</body>
</html>
